@page "/bookings/cancel/{bookingId:int?}"
@using KundenWebSystem.Database.Model
@using Microsoft.EntityFrameworkCore
@using Components
@inject KWSContext Context

<div class="row container-fluid">
    <h1>Details zur Buchung</h1>
    <KundenWebSystem.Pages.Bookings.Components.Popup @ref="popup" Title="Möchten Sie stornieren?" Content="Es wäre wundervoll wenn Sie diese Aktion unterlassen würden" InteractionResult="@OnPopupInteraction"/>
    <hr />
    <KundenWebSystem.Pages.Bookings.Components.EventData BookingId="@BookingId" />
    <hr />

    <h3>Buchungsdaten</h3>

    <div>
        <div class="row">
            <div class="col">
                <b>Preis pro Teilnehmer</b>
            </div>
            <div class="col">
                <b>Gebuchte Plätze</b>
            </div>
        </div>

        <div class="row">
            <div class="col">
                @*                @bPreis*@
            </div>
            <div class="col">
                @*@bPlaetze*@
            </div>
        </div>
    </div>

    <hr />
</div>

<div class="container mt-3">
    <div class="col">
        <a href="/bookings">Zurück zur Übersicht</a>
        <button type="button" class="btn btn-danger" @onclick="DoCancelBooking">Buchung stornieren</button>
    </div>
</div>




@code {
    private Popup popup;

    public void DoCancelBooking()
    {
        popup.Open();


    }

    private void OnPopupInteraction(bool value)
    {
        
    }

    [Parameter]
    public bool IsVisible { get; set; }

    [Parameter]
    public EventCallback<bool> IsVisibleChanged { get; set; }

    [Parameter]
    public string? HeaderText { get; set; }

    [Parameter]
    public string? BodyText { get; set; }

    public void Show(string bodyText, string headerText = "")
    {
        HeaderText = headerText;
        BodyText = bodyText;
        IsVisible = true;
        StateHasChanged();
    }

    private void Close()
    {
        HeaderText = string.Empty;
        BodyText = string.Empty;
        IsVisible = false;
        StateHasChanged();
    }

    [Parameter]
    public int BookingId { get; set; }

    public void OnButtonClick()
    {

    }
}
